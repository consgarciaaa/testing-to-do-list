runtime: python39
entrypoint: gunicorn --bind 0.0.0.0:$PORT run:app

env_variables:
  SECRET_KEY: ${SECRET_KEY}
  DATABASE_URL: ${DATABASE_URL}
  DEBUG: ${DEBUG}
  TMDB_API_KEY: ${TMDB_API_KEY}
  TMDB_ACCESS_TOKEN: ${TMDB_ACCESS_TOKEN}
  GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
  GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}

handlers:
  - url: /.*
    script: auto

instance_class: F2
automatic_scaling:
  target_cpu_utilization: 0.65
  target_throughput_utilization: 0.75
  min_instances: 1
  max_instances: 5
